# RailsAdminGlobalizeField

  RailsAdminGlobalizeField adds tabbed interface to [rails_admin](https://github.com/sferik/rails_admin) for multilingual models (using [globalize3](https://github.com/svenfuchs/globalize3) gem)

  It creates custom field type for globalize3 translations that you can use on any translations asssociation to translated models.

  This gem uses Translation models generated by globalize3, so you don't need to add any additional models to your project (as some older globalize3 gists suggested).

## Installation

> rails-4.0 compatible only for now!

Add and configure globalize3 gem first. **You need to use rails4 branch.**
``` ruby
  gem 'paper_trail', github: 'airblade/paper_trail'
  gem 'globalize3', github: 'svenfuchs/globalize3', branch: 'rails4'
```


Add this line to your application's Gemfile:
``` ruby
    gem 'rails_admin_globalize_field'
```

And then execute:

    $ bundle

Or install it yourself as:

    $ gem install rails_admin_globalize_field

## Usage

Add **translation** models to `config.included_models` in `initializers/rails_admin.rb`:
``` ruby
  config.included_models = ['Model','Model::Translation']
```

Add `accepts_nested_attributes_for` for translations to your **translated** model
``` ruby
  class Model < ActiveRecord::Base
    translates :title, :desc
    accepts_nested_attributes_for :translations, :allow_destroy => true
    rails_admin do
      edit do
        field :translations do
          # prevent help text ('optional') below tab pane
          help false
        end
      end
    end
  end
```

Add configuration to associated **translation** model:
``` ruby
  config.model 'Model::Translation' do
    visible false
    configure :locale, :hidden
    include_fields :locale, :title, :desc
    edit do
      # optional: declare desc field as rich text field (moved from original Model)
      field :desc, :ck_editor
      # hide help block
      field :locale do
        help false
      end
    end
  end
```
`:locale` field is always required.


Add additional stylesheet in app/assets/stylesheets/rails_admin/theming.scss:
``` ruby
  /*
   *= require rails_admin/ra.globalize_tabs
  */
```

## Screenshot

![Screenshot](https://raw.github.com/scarfaceDeb/rails_admin_globalize_field/screenshots/screenshots/shot1.png)

## Contributing

1. Fork it
2. Create your feature branch (`git checkout -b my-new-feature`)
3. Commit your changes (`git commit -am 'Add some feature'`)
4. Push to the branch (`git push origin my-new-feature`)
5. Create new Pull Request
